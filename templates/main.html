<!DOCTYPE html>
<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript">
    var values = {{ context|tojson }}
</script>
<body>
<div>
    <h1 class="favorite">Click me</h1>
</div>
<canvas id="myChart" style="width:100%;max-width:1200px"></canvas>

<script>
    let investment_value = 1000;
    let code = 'MSFT'
    let yValues = values.yvalues;
    let xValues = values.xvalues;

    new Chart("myChart", {
        type: "line",
        data: {
            labels: xValues,
            datasets: [{
                fill: false,
                lineTension: 0,
                backgroundColor: "rgba(0,0,255,1.0)",
                borderColor: "rgba(0,0,255,0.1)",
                data: yValues
            }]
        },
        options: {
            legend: {display: false},
            // scales: {
            //     yAxes: [{ticks: {min: 6, max: 16}}],
            // }
        }
    });

    $(document).ready(function () {
        $(".favorite").click(function () {
            $.ajax({
                type: 'POST',
                url: "/",
                data: {'value': investment_value, 'code': code}
            });
        });
    });
</script>

</body>
</html>